<!DOCTYPE html>
<head>
    <title>AR.js</title>
</head>

<!-- AR.js by @jerome_etienne - github: https://github.com/jeromeetienne/ar.js - info: https://medium.com/arjs/augmented-reality-in-10-lines-of-html-4e193ea9fdbf -->
<!-- <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script> -->
<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
<script src="https://rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> 

<script>
    AFRAME.registerComponent('vidhandler', {
        init: function() {
            this.toggle = false;
            this.vidNodes = document.querySelectorAll("#vid, #videonew");
            for (let i = 0; i < this.vidNodes.length; i++) {
                  this.vidNodes[i].pause();
            }
        },
        tick: function() {
            if (this.el.object3D.visible == true) {
                if (!this.toggle) {
                    this.toggle = true;
                    for (let i = 0; i < this.vidNodes.length; i++) {
                      this.vidNodes[i].play();
                    }
                }
            } else {
                this.toggle = false;
                for (let i = 0; i < this.vidNodes.length; i++) {
                  this.vidNodes[i].pause();
                }
            }
        }
    });
    </script>

<!-- <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script> -->
<body style='margin : 0px; overflow: hidden;'>
	<a-scene embedded arjs='debugUIEnabled: false; sourceType: webcam;'>

        <!-- video assets -->
        <a-assets>
            <video id="vid" loop="true" crossorigin="anonymous" 
                   src='img/720p00012.mp4'></video>
            <!-- <video id="videonew" loop="true" crossorigin="anonymous" 
                   src=''></video> -->
        </a-assets>

        <a-marker id="marker" markerhandler emitevents ="true" cursor="rayOrigin: mouse" type="pattern" url="patt/son.patt">
                        
            <a-plane class="image" src="img/son.jpg" height="2" width="1.5" color="white" position="0 1 0" rotation="-90 0 0"></a-plane>
                      
        <!-- <a-marker-camera preset='hiro'></a-marker-camera> -->
        </a-marker>

        <a-marker id="marker" markerhandler emitevents ="true" cursor="rayOrigin: mouse" type="pattern" url="patt/gift.patt">
                        
            <a-plane class="image" src="img/anniv.png" height="2" width="2" color="white" position="0 1 0" rotation="-90 0 0"></a-plane>
                      
        </a-marker>

        <a-marker id="marker" markerhandler emitevents ="true" cursor="rayOrigin: mouse" type="pattern" url="patt/gender.patt">
            <a-plane class="image" src="img/gender.jpg" height="2" width="2" color="white" position="0 1 0" rotation="-90 0 0"></a-plane>
            <!-- Image by <a href="https://pixabay.com/users/marcelinobobe-1767458/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1091106">marcelinobobe</a> from <a href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1091106">Pixabay</a>               -->
        </a-marker>

        <a-marker preset="pattern" vidhandler type="pattern" url="patt/ultrasound.patt">
            <a-box position="-1 0 0" material='src: #vid'></a-box>
            <!-- <a-entity scale="1 1 1" rotation="-90 0 0">
              <a-video play-on-scan src="img/720p00012.mp4"></a-video>
            </a-entity> -->
        </a-marker>
        
        
        <a-entity camera></a-entity>
	</a-scene>
</body>